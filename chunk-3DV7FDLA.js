import{I as m,a as s,b as r,ca as g}from"./chunk-HS2K22PC.js";var h=class o{notifications=g([]);timers=new Map;remainingTimes=new Map;startTimes=new Map;activeNotifications=this.notifications.asReadonly();show(t,i={}){let e=i.id||this.generateId(),n=i.duration??3e3,a={id:e,message:t,type:i.type||"default",position:i.position||"top-right",duration:n,clipboard:i.clipboard,closable:i.closable??!0,icon:i.icon,pauseOnHover:i.pauseOnHover??!0};return this.notifications.update(c=>[...c,a]),n>0&&this.startTimer(e,n),e}success(t,i){return this.show(t,r(s({},i),{type:"success"}))}error(t,i){return this.show(t,r(s({},i),{type:"error"}))}warning(t,i){return this.show(t,r(s({},i),{type:"warning"}))}info(t,i){return this.show(t,r(s({},i),{type:"info"}))}remove(t){this.clearTimer(t),this.notifications.update(i=>i.filter(e=>e.id!==t))}clear(){this.timers.forEach(t=>clearTimeout(t)),this.timers.clear(),this.remainingTimes.clear(),this.startTimes.clear(),this.notifications.set([])}pauseTimer(t){let i=this.notifications().find(c=>c.id===t);if(!i?.pauseOnHover||!this.timers.has(t))return;clearTimeout(this.timers.get(t)),this.timers.delete(t);let e=Date.now()-(this.startTimes.get(t)||0),n=i.duration||3e3,a=this.remainingTimes.has(t)?this.remainingTimes.get(t)-e:n-e;this.remainingTimes.set(t,a>0?a:0)}resumeTimer(t){if(!this.notifications().find(n=>n.id===t)?.pauseOnHover||!this.remainingTimes.has(t))return;let e=this.remainingTimes.get(t)||0;e>0?this.startTimer(t,e):this.remove(t)}startTimer(t,i){this.startTimes.set(t,Date.now());let e=setTimeout(()=>{this.remove(t)},i);this.timers.set(t,e)}clearTimer(t){this.timers.has(t)&&(clearTimeout(this.timers.get(t)),this.timers.delete(t)),this.remainingTimes.delete(t),this.startTimes.delete(t)}generateId(){return Math.random().toString(36).substring(2,9)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})};export{h as a};
